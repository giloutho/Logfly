Alternative Node : https://github.com/sinedied/gettext-extract


Installation 
brew install gettext

Verifiaction
xgettext --version

#Instruction calibrée pour travailler depuis le répertoire racine Logfly avec production dans le dossier i18n
xgettext --from-code=UTF-8  --keyword -ktr -o i18n/keys.pot $(find . -name "*.java")

--language=name’

--from-code=UTF-8    encodage UTF8
--language=Javascript  sources en Javascript
--keyword   mot clés par défaut   en Javacript
-o i18n/keys.pot    fichier sortie

V1 : xgettext --from-code=UTF-8  --language=Javascript --keyword -o i18n/keys.pot $(find . -name "*.js")
xgettext ne peut pas fonctionner sans mot clé à rechercher

V2 xgettext --from-code=UTF-8  --language=Javascript -o i18n/keys.pot $(find . -name "*.js")
Non trouvé

V3 xgettext --from-code=UTF-8  --language=Javascript -o keys.pot $(find . -name "*.js")
Ok en se placent ds src

V4 xgettext --from-code=UTF-8  --language=Javascript -o ../../i18n/keys.pot $(find . -name "*.js")

../../../node_modules/

Usage : xgettext [OPTION] [FICHIER_ENTRÉE]...

xgettext analyse des fichiers de code source et permet d'en extraire les chaînes qui peuvent être traduites dans d'autres langues.

Les arguments obligatoires pour les formes longues des options sont également
obligatoires pour les formes courtes correspondantes. (idem options factultatives)

Emplacement du fichier d'entrée :
  FICHIER ...                 fichiers d'entrée
  -f, --files-from=FICHIER    obtenir la liste des fichiers d'entrée à partir du FICHIER
  -D, --directory=DOSSIER     ajouter le DOSSIER pour la recherche des fichiers d'entrée
  Si le nom du fichier d'entrée est « - », les données sont lues depuis l'entrée standard.

Emplacement du fichier de sortie :
  -d, --default-domain=NOM    utiliser NOM.po pour la sortie (au lieu de messages.po)
  -o, --output=FICHIER        écrire la sortie dans le FICHIER spécifié
  -p, --output-dir=RÉP        créer les fichiers de sortie dans le répertoire spécifié
  Si le nom du fichier de sortie est « - », la sortie est envoyée vers la sortie standard

Choix du langage du fichier d'entrée :
  -L, --language=NAME         recognise the specified language
                                (C, C++, ObjectiveC, PO, Shell, Python, Lisp,
                                EmacsLisp, librep, Scheme, Smalltalk, Java,
                                JavaProperties, C#, awk, YCP, Tcl, Perl, PHP,
                                Ruby, GCC-source, NXStringTable, RST, RSJ,
                                Glade, Lua, JavaScript, Vala, Desktop)
  -C, --c++                   identique à « --language=C++ »
  Par défaut, le langage est deviné selon l'extension du nom du fichier.

Interprétation du fichier d'entrée :
      --from-code=NOM         encodage des fichiers d'entrée
                              (sauf pour Python, Tcl, Glade)
  Par défaut les fichiers d'entrée sont supposés être en ASCII.

Mode d'exécution :
  -j, --join-existing            joindre les messages au fichier existant
  -x, --exclude-file=FICHIER.po  les entrées du FICHIER.po ne sont pas extraites
  -cTAG, --add-comments=TAG   ajouter les blocs de commentaires débutant avec TAG et
                                précédant les lignes de mot clé dans le fichier de sortie
  -c, --add-comments          ajouter tous les blocs de commentaires précédant les lignes de mots clés
                                dans le fichier de sortie
      --check=NOM             vérifier la syntaxe des messages
                                (ellipsis-unicode, ellipsis-espace,
                                 apostrophe-unicode, tiret-unicode)
      --sentence-end=TYPE     type décrivant la fin d’une phrase
                                (espace-simple, par défaut, 
                                 ou espace-double)

Options spécifiques au langage:
  -a, --extract-all           extraire toutes les chaînes
                              (seulement les langages C, C++, ObjectiveC, Shell,
                              Python, Lisp, EmacsLisp, librep, Scheme, Java,
                              C#, awk, Tcl, Perl, PHP, GCC-source, Glade,
                              Lua, JavaScript, Vala)
  -kMOT, --keyword=MOT      chercher MOT comme mot clé additionnel
  -k, --keyword               ne pas utiliser les mots clés par défaut
                              (seulement les langages C, C++, ObjectiveC, Shell,
                              Python, Lisp, EmacsLisp, librep, Scheme, Java,
                              C#, awk, Tcl, Perl, PHP, GCC-source, Glade,
                              Lua, JavaScript, Vala, Desktop)
      --flag=MOT:ARG:DRAPEAU  DRAPEAU additionnel pour des chaînes à l'intérieur de
                              l'argument numéro ARG du MOT clé
                              (seulement les langages C, C++, ObjectiveC, Shell,
                              Python, Lisp, EmacsLisp, librep, Scheme, Java,
                              C#, awk, YCP, Tcl, Perl, PHP, GCC-source,
                              Lua, JavaScript, Vala)
  -T, --trigraphs             comprendre les trigrammes ANSI C pour l'entrée
                              (seuls les langages C, C++, ObjectiveC)
      --its=FILE              appliquer les règles ITS du FICHIER
                              (seulement les langages de la famille XML)
      --qt                    reconnaître les chaînes au format Qt
                              (seulement le langage C++)
      --kde                   reconnaître les chaînes au format KDE 4
                              (seulement le langage C++)
      --boost                 reconnaître les chaînes au format Boost
                              (seulement le langage C++)
      --debug                 mieux détailler la reconnaissance des chaînes de format

Détails des données de sortie :
      --color                 toujours utiliser de la couleur et d'autres attributs de texte
      --color=QUAND            utiliser de la couleur et des attributs de texte seulement QUAND.
                              QUAND peut être « always », « never », « auto », or « html ».
      --style=FICHIERSTYLE    spécifie le fichier de règles de style CSS pour --color
  -e, --no-escape             ne pas utiliser de séquences d'échappement C dans la sortie (par défaut)
  -E, --escape                utiliser des séquences d'échappements C dans la sortie, sans caractère étendu
      --force-po              créer un fichier .po même s'il est vide
  -i, --indent                créer le fichier .po avec un style indenté
      --no-location           ne pas créer les commentaires de numérotation du type « #: fichier:ligne»
  -n, --add-location          créer des commentaires de numérotation du type « #: fichier:ligne » (par défaut)
      --strict                créer des fichier .po strictement conformes à l'Uniforum
      --properties-output     produire un fichier « .properties » de type Java
      --stringtable-output    créer un fichier « .strings » de type NeXTstep/GNUstep
      --itstool               envoyer sur la sortie les commentaires d’itstool
  -w, --width=NOMBRE          spécifier la largeur de page
      --no-wrap               ne pas couper les lignes de messages qui sont plus longues
                              que la largeur des pages de sortie.
  -s, --sort-output           trier les données de sortie
  -F, --sort-by-file          trier les données de sortie selon l'emplacement des fichiers
      --omit-header           ne pas créer d'en-têtes de la forme « msgid "" »' 
      --copyright-holder=AUTEUR  définit l'auteur dans la sortie
      --foreign-user          omettre le copyright FSF dans la sortie pour les utilisateurs étrangers
      --package-name=PAQUET   donne le nom de paquet dans la sortie
      --package-version=VERSION  donne la version du paquet dans la sortie
      --msgid-bugs-address=ADRESSE@COURRIEL  adresse de courriel pour les rapport d'anomalie des msgid
  -m[CHAINE], --msgstr-prefix[=CHAINE]  utiliser la CHAINE ou "" comme préfixe aux valeurs
                                msgstr
  -M[CHAINE], --msgstr-suffix[=CHAINE]  utiliser la CHAINE ou "" comme suffixe aux valeurs
                                msgstr

Sortie informative :
  -h, --help                  afficher ce message d'aide, puis terminer
  -V, --version               afficher le numéro de version de ce programme, puis terminer
  -v, --verbose               afficher plus d'informations

Signalez tout bogue via le gestionnaire de bogues à l'adresse <https://savannah.gnu.org/projects/gettext>
ou par email à <bug-gettext@gnu.org>.
gil@MBP-de-Gil logfly % 
